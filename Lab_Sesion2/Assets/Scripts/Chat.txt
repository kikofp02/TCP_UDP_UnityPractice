hi chat, im on unity creating a chat system, i hav all the logic now but i'm missing the scroll view logic part. I have a scrollview ui item where i whant to place mesagges on. The thing is, i understand that i have to put scrollable items as childs of the content go of the scroll view. So i have a prefab "message" which is an empty ui item with a tmp text. I have to by code assign the text to the mesage and instanciate it as child of the content?





using UnityEngine;
using TMPro;

public class ChatSystem : MonoBehaviour
{
    public GameObject messagePrefab; // Assign your message prefab here
    public Transform content; // Assign the Content GameObject here

    public void AddMessage(string messageText)
    {
        // Instantiate the message prefab as a child of the content
        GameObject messageObject = Instantiate(messagePrefab, content);

        // Get the TextMeshProUGUI component and set the text
        TextMeshProUGUI messageTextComponent = messageObject.GetComponentInChildren<TextMeshProUGUI>();
        if (messageTextComponent != null)
        {
            messageTextComponent.text = messageText;
        }

        // Optionally, you can adjust the Scroll Rect to scroll to the bottom
        Canvas.ForceUpdateCanvases(); // Update the layout
        ScrollToBottom();
    }

    private void ScrollToBottom()
    {
        // This will ensure the scroll view scrolls to the bottom after adding a message
        RectTransform contentRect = content.GetComponent<RectTransform>();
        contentRect.anchoredPosition = new Vector2(contentRect.anchoredPosition.x, 0);
    }
}
